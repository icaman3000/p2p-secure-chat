# P2P安全聊天应用

一个去中心化的端到端加密聊天应用,每个节点既是客户端也是服务器。

## 安装要求

- Python 3.8 或更高版本
- Poetry（Python 包管理工具）

## 安装步骤

1. 克隆或下载此项目到本地

2. 在项目目录中安装依赖：

   ```bash
   poetry install
   ```

3. 复制环境配置文件：

   ```bash
   cp .env.example .env
   ```

4. 修改 .env 文件配置：

   ```env
   # 本节点监听的端口
   NODE_PORT=8082
   
   # 初始连接节点列表(可选)
   # 格式: ["ws://192.168.1.100:8082", "ws://192.168.1.101:8082"]
   BOOTSTRAP_NODES=[]
   ```

   注意：
   - NODE_PORT 是本节点作为服务器监听的端口
   - BOOTSTRAP_NODES 可以填写已知的其他节点地址,用于加入网络

5. 运行节点：

   ```bash
   poetry run python src/main.py
   ```

## 使用说明

1. 首次使用需要:
   - 生成节点密钥对
   - 设置用户名和头像
   - 配置节点监听端口

2. 加入网络:
   - 自动发现局域网内的其他节点
   - 或通过已知节点地址手动添加

3. 添加联系人:
   - 通过节点ID添加
   - 对方同意后才能开始聊天

4. 安全性:
   - 所有消息点对点加密传输
   - 私钥只保存在本地
   - 支持消息签名验证
